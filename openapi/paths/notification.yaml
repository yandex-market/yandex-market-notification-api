post:
  tags:
    - notification
  operationId: sendNotification
  summary: Получение уведомлений
  description: "Маркет отправляет магазину уведомления о событиях:\n\n  * создание нового заказа;\n  * изменение заказа;\n  * изменение статуса заказа;\n  * создание нового чата с покупателем;\n  * добавление нового сообщения в чате;\n  * начало спора;\n  * завершение спора;\n  * создание нового отзыва о товаре;\n  * создание нового комментария к отзыву;\n  * создание заявки на отмену заказа;\n  * отмена заказа;\n  * создание нового невыкупа или возврата;\n  * изменение статуса невыкупа или возврата.\n\n{% note info \"Учитывайте эти особенности в работе с уведомлениями\" %}\n\n* Маркет может отправлять несколько уведомлений по одному и тому же событию.\n\n    В некоторых случаях это нормальное поведение. Например, может быть несколько уведомлений с изменением статуса заказа из-за поиска курьера.\n\n* Время в уведомлении, в ответе на запрос к Маркету и в вашей системе может отличаться.\n\n    Это происходит из-за того, что в момент отправки уведомления состояние заказа уже может быть другим.\n\n    В запросе `POST\_notification` время события приходит в `createdAt`, `updatedAt` или `cancelledAt`. Выбор параметра зависит от типа уведомления.\n\n\nАктуальным считайте более позднее время события. Оно может быть в уведомлении, вернуться в ответе на запрос к Маркету или храниться в вашей системе.\n\n{% endnote %}\n\nТаймаут на получение ответа: 10 секунд.\n"
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../components/schemas/SendNotificationRequest.yaml
    description: Тело запроса с уведомлением.
  responses:
    '200':
      description: Ответ на корректный запрос с информацией об обработке уведомления.
      content:
        application/json:
          schema:
            $ref: ../components/schemas/SendNotificationResponse.yaml
    '400':
      description: >-
        Если Маркет прислал некорректное уведомление, верните статус `400` с
        описанием ошибки.
      content:
        application/json:
          schema:
            $ref: ../components/schemas/SendNotificationErrorResponse.yaml
    '500':
      description: >-
        Если произошла техническая ошибка на вашей стороне, верните статус
        `500`. [{#T}](../../push-notifications/index.md#no-answer)
      content:
        application/json:
          schema:
            $ref: ../components/schemas/SendNotificationErrorResponse.yaml
